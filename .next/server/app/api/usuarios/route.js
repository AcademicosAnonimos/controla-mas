"use strict";(()=>{var e={};e.id=67,e.ids=[67],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},9904:(e,r,a)=>{a.a(e,async(e,t)=>{try{a.r(r),a.d(r,{headerHooks:()=>l,originalPathname:()=>y,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>m});var o=a(884),s=a(6132),n=a(9639),i=e([n]);n=(i.then?(await i)():i)[0];let u=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/usuarios/route",pathname:"/api/usuarios",filename:"route",bundlePath:"app/api/usuarios/route"},resolvedPagePath:"C:\\Users\\User\\Documents\\PROYECTOS\\BASE DE DATOS - Facultad\\ProbandoReact\\ControlaMas\\app\\api\\usuarios\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:d,headerHooks:l,staticGenerationBailout:m}=u,y="/api/usuarios/route";t()}catch(e){t(e)}})},9639:(e,r,a)=>{a.a(e,async(e,t)=>{try{a.r(r),a.d(r,{GET:()=>GET,POST:()=>POST,dynamic:()=>i});var o=a(5798),s=a(8818),n=e([s]);s=(n.then?(await n)():n)[0];let i="force-dynamic";async function GET(){try{let e=await s.Z.query(`
      SELECT id_usuario, nombre, monto_disponible 
      FROM Usuario 
      ORDER BY nombre
    `);return o.Z.json(e.rows)}catch(e){return o.Z.json({error:"Error al obtener usuarios"},{status:500})}}async function POST(e){try{let{nombre:r,monto_disponible:a}=await e.json(),t=await s.Z.query("INSERT INTO Usuario (nombre, monto_disponible) VALUES ($1, $2) RETURNING *",[r,a||0]);return o.Z.json(t.rows[0])}catch(e){return o.Z.json({error:"Error al crear usuario"},{status:500})}}t()}catch(e){t(e)}})},8818:(e,r,a)=>{a.a(e,async(e,t)=>{try{a.d(r,{Z:()=>i});var o=a(8678),s=e([o]);o=(s.then?(await s)():s)[0];let n=new o.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}}),i=n;t()}catch(e){t(e)}})}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[997],()=>__webpack_exec__(9904));module.exports=a})();