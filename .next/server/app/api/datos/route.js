"use strict";(()=>{var e={};e.id=156,e.ids=[156],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},9813:(e,a,o)=>{o.a(e,async(e,t)=>{try{o.r(a),o.d(a,{headerHooks:()=>l,originalPathname:()=>_,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>p,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>m});var r=o(884),s=o(6132),n=o(3955),i=e([n]);n=(i.then?(await i)():i)[0];let u=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/datos/route",pathname:"/api/datos",filename:"route",bundlePath:"app/api/datos/route"},resolvedPagePath:"C:\\Users\\User\\Documents\\PROYECTOS\\BASE DE DATOS - Facultad\\ProbandoReact\\ControlaMas\\app\\api\\datos\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:p,headerHooks:l,staticGenerationBailout:m}=u,_="/api/datos/route";t()}catch(e){t(e)}})},3955:(e,a,o)=>{o.a(e,async(e,t)=>{try{o.r(a),o.d(a,{GET:()=>GET,dynamic:()=>i});var r=o(5798),s=o(8678),n=e([s]);s=(n.then?(await n)():n)[0];let i="force-dynamic",u=new s.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}});async function GET(){try{let e=await u.connect(),a=await e.query(`
      SELECT id_usuario, nombre, monto_disponible 
      FROM Usuario 
      ORDER BY id_usuario
    `);e.release();let o=a.rows.map(e=>({id_usuario:e.id_usuario,nombre:e.nombre,monto_disponible:parseFloat(e.monto_disponible)}));return r.Z.json({success:!0,usuarios:o,total:a.rowCount})}catch(e){return console.error("Error de base de datos:",e),r.Z.json({success:!1,error:"Error al conectar con la base de datos",details:e.message},{status:500})}}t()}catch(e){t(e)}})}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),o=a.X(0,[997],()=>__webpack_exec__(9813));module.exports=o})();